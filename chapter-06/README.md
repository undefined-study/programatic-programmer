# 코딩하는 동안 해야 할 일들

코딩에 들어가면 대부분 기계적으로 따라가야 하는 일, 설계 내용을 컴퓨터가 실행할 수 있는 문장으로
바꾸는 일만 남는다는 생각을 가지게 된다. 이런 태도는 지양해야 할 태도이다.

코딩은 기계적인 작업이 아니다. 프로그램이 정확하고 생산적이면서 천수를 누리도록 하기 위해서는
사려 깊은 생각과 판단을 통한 결정이 중요하다. 

## 우연에 맡기는 프로그래밍

프로그매러에게 일이 생겼다. 키보드를 두들겨 코드를 작성하고 시험삼아 돌려보았다. 잘 돌아가는 듯하여
코드를 조금 더 덧붙이고, 또 돌려본다. 이러다 갑자기 코드에 문제가 생겼다. 몇시간이고 고치려 했지만
원인이 보이질 않는다. 이것은 원인이 보이지 않는 것이 아니라, 어떻게 동작했는지를 모르는 것이다.

코드가 잘 돌아가는 것을 우연에 맡기지 않으려면, 정정말 제대로 돌아가는 것이 아닐지도 모른다는 것을
인지하고 의존하는 조건이 우연한 가정에 의존하고 있는지 생각해보아야 한다.

의도적인 프로그래밍을 하기 위해선, 자기가 지금 무엇을 하고 있는지 알고, 맹목적 코딩을 하지 말아야 한다.
계획을 세우고 신뢰할 수 있는 것에만 기대며, 가정을 문서로 남겨두자. 

## 알고리즘 속도

프로그램이 작업을 수행하는 데 얼마나 시간이 걸릴까 추정해보는 습관을 기르자. 상식과 약간의 분석 + 
'대문자 O 표기법'을 통해 근사값을 기록하는 방식으로 답을 찾아야 한다.

일반적으로 몇몇 알고리즘을 제외한 대부분의 알고리즘들은 가변적인 입력의 크기에 따라 속도가 결정된다.
정렬, 역행렬 만들기, 메세지 해독 알고리즘 등이 그 예시인데 이런 관계가 항상 선형적인 (n) 과 비례하지는
않는다.

O() 표기법은 근사치를 수학적으로 표기하는 방식이다. 

- O(1) 상수적, 배열의 원소에 접근하거나, 단순 명령문
- O(log_2(n)) 대수적, 이진 검색
- O(n) 선형적, 간단한 반복문 루프
- O(nlog_2(n)) 선형적보다는 좋은 .., 퀵정렬, 힙정렬의 평균 수행 시간
- O(n^2) 제곱적, 선택 정렬, 삽입 정렬
- O(n^3) 세제곱적, 두 2차 행렬의 곱
- O(C^n) 지수적, 집합 분할.?

실전에서는 대개 이미 나와 있는 라이브러리에 들어있는 정렬 루틴을 사용하기에 뛰어난 성능의 정렬 루틴을 구현하기
위해 많은 시간을 투자하지 않아도 좋은 성능을 취할 수 있다. 하지만, 가령 중첩된 반복문을 사용한다면 루프의 크기와
추청치를 스스로 물어볼 수 있다. 예상보다 커다란 수가 입력으로 들어왔을 때 잠시 작업을 멈추고 수행시간이나
메모리 소비에 어떤 영향을 끼칠지 생각해보는 시간이 필요하다.

## 리팩토링

뭔가 잘못되었다 싶으면 당장 리팩토링하자. 중복 발생, 직교적이지 않은 코드, 유효기간이 지난 지식, 성능 저하가 발생했을 때!

리팩토링은 주의를 기울여야 한다. 리팩토링과 동시에 새 기능을 추가하지 않아야 하며, 의존할 수 있는 테스트 코드가 존재하는 지
확인하고, 단계를 작게 나누어 작업해야 한다.

## 테스트하기 쉬운 코드

테스트를 하기위해 일종의 인위적인 환경을 구축한 다음 테스트할 모듈의 루틴들을 호출해서 기대하는 값과 비교한다.
이때 테스트 대상이 태어나게 된 계약 조건에 부합한 동작을 하는 지 테스트하는 것에 집중하자. 입력값으로 허용되지
않은 값이 잘 거부되는지, 경계 조건들에서도 모듈이 약속한 대로 기능을 잘 수행하는 지를 기반으로 테스트 대상의
선행 조건, 후행 조건에 부합하는지 테스트해보아야 한다.

테스트 코드의 단위가 작다면, 어떤 구조로 관리하든지 쉽게 접근할 수 있는 위치에 두어야 한다. 테스트 코드는
테스트 대상이 되는 모듈이 어떻게 동작하는 지 예제를 보여주며, 코드 리팩토링의 안정성을 제공한다.

우리가 작성하는 모든 소프트웨어는 언젠가 테스트된다. 코드를 작성하는 개발자가 테스트하지 않으면 결국 사용자들이
테스트하게 된다는 말이다. 고객 지원실에 걸려오는 전화 횟수를 줄이고자 한다면 테스트는 스스로 철저히 하는 것이
좋다. 

하지만, 테스트는 기술적이라기 보다는 문화적인 것에 가깝다. 테스트 결과를 통해 표준을 찾고, 테스트가 미리 정해진
위치에 존재하고, 예상할 수 있는 결과를 출력하는 것을 확인하는 루틴은 개발 문화적으로 큰 이점을 전달한다.


